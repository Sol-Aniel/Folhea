<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhas Listas de Leitura</title>

    <link rel="stylesheet" type="text/css" th:href="@{/css/listasLeitura.css}">
</head>

<body>
<main>
    <h1>
        Minhas Listas de Leitura
        <a th:href="@{/historias/novaLista}" class="btn-nova-lista">+ Nova Lista</a>
    </h1>

    <div th:if="${#lists.isEmpty(listas) == false}">

        <div class="lista-leitura-item" th:each="lista : ${listas}">
            <h2>
                <a th:href="@{/lista/{id}(id=${lista.id})}">
                    <span th:text="${lista.nome} ?: 'Lista Sem Nome'">Nome da Lista</span>
                    <span th:text="'(' + (${lista.totalHistorias} ?: 0) + ' Histórias)'">(0 Histórias)</span>
                </a>
            </h2>
            <p th:text="${lista.descricao} ?: 'Nenhuma descrição fornecida.'">Descrição da lista, como seu propósito.</p>

            <div class="capas-preview">

                <img th:each="capa : ${lista.capasPreview}"
                     th:src="@{${capa.url}}"
                     th:alt="${capa.altText}">

                <span th:if="${#lists.isEmpty(lista.capasPreview)}" class="no-covers">
                        Nenhuma história nesta lista.
                    </span>
            </div>
        </div>
    </div>

    <div th:if="${#lists.isEmpty(listas)}" class="sem-listas-msg">
        <p>Você ainda não criou nenhuma lista de leitura personalizada.
            <a th:href="@{/listas/nova}">Crie sua primeira agora!</a>
        </p>
    </div>

</main>
</body>
</html>