<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhas Listas de Leitura</title>

    <link rel="stylesheet" type="text/css" th:href="@{/css/listasLeitura.css}">
</head>

<body>
<header class="flex justify-between items-center p-4 bg-white shadow-md">
    <img th:src="@{/images/logoMenor.png}" alt="Logo">
    <form class="search-bar flex items-center border border-gray-300 rounded-full overflow-hidden">

    </form>
    <nav>
        <a th:href="@{/home}">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f">
                <path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z" />
            </svg>
        </a>
        <a th:href="@{/listas}">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f">
                <path d="M240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h480q33 0 56.5 23.5T800-800v640q0 33-23.5 56.5T720-80H240Zm0-80h480v-640h-80v280l-100-60-100 60v-280H240v640Zm0 0v-640 640Zm200-360 100-60 100 60-100-60-100 60Z" />
            </svg>
        </a>
        <a th:href="@{/historias/nova}">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f">
                <path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z" />
            </svg>
        </a>

    </nav>
</header>

<main>
    <h1>
        Minhas Listas de Leitura
        <a th:href="@{/listas/nova}" class="btn-nova-lista">+ Nova Lista</a>
    </h1>

    <div th:if="${#lists.isEmpty(listas) == false}">

        <div class="lista-leitura-item" th:each="lista : ${listas}">
            <h2>
                <a th:href="@{/lista/{id}(id=${lista.id})}">
                    <span th:text="${lista.nome} ?: 'Lista Sem Nome'">Nome da Lista</span>
                    <span th:text="'(' + (${lista.totalHistorias} ?: 0) + ' Histórias)'">(0 Histórias)</span>
                </a>
            </h2>
            <p th:text="${lista.descricao} ?: 'Nenhuma descrição fornecida.'">Descrição da lista, como seu propósito.</p>

            <div class="capas-preview">

                <img th:each="capa : ${lista.capasPreview}"
                     th:src="@{${capa.url}}"
                     th:alt="${capa.altText}">

                <span th:if="${#lists.isEmpty(lista.capasPreview)}" class="no-covers">
                        Nenhuma história nesta lista.
                    </span>
            </div>
        </div>
    </div>

    <div th:if="${#lists.isEmpty(listas)}" class="sem-listas-msg">
        <p>Você ainda não criou nenhuma lista de leitura personalizada.
            <a th:href="@{/listas/nova}">Crie sua primeira agora!</a>
        </p>
    </div>

</main>
</body>
</html>